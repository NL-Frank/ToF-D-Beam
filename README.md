# ToF-D-Beam
A MIDI controller inspired on the D-Beam realized with an ESP32 and MicroPython
Always wanted to control your sound effects on your keyboard or modular Synthesizer by moving your hand? Create Theremin style sounds ? Start a drum computer just waving your hands? 

This project describes the design of a MIDI controller, we use the input of a VLO53Lox that measures the distance of the hand above it and translates this into MIDI and analog signals. With this you can control keyboards (by MIDI), but also Modular synthesizers that use analog signals.

I call it the ToF-D-Beam, the Time-of_Flight D-Beam controller. The original design is from 1996 by Interactive Light, please see the attached Intro ToF-D-Beam.  I started using the UltraSonic HC-SR04, but this was to sensitive and not reliable. The ToF leads to a robust solution, only direct sunlight can sometimes cause a small hick up.

The ToF-D-Beam is configurable, you can set the parameter of 2 CCs (Continuous Change), the MIDI and analog clock and the MIDI channel. This is stored to Non-Volatile RAM. The MIDI clock is generated by a interrupt routine, making it as precise as possible. The MIDI Pith Bend comprises of a different data (2 x 7 bits) than CC. This means also a difference for the analog signal a range from -5 to + 5 V. These higher resolutions are used to avoid staircasing effects. An extra DC-DC converter is used to give the OPAMPS headroom and to create the analog Pitch Bend voltage. Two LPF are used to filter out the high frequency parts of the signal, otherwise a tickling sound is heard when used with a Voltage Controlled VCF, for example. 

If you just want the analog part you leave out the MIDI or vice versa. I can also imagine adaptation to use other MIDI trick. Especially the modular world is very creative. The micro-python script is straightforward and is richly commented. There is also a video that shows the capabilities with a real set up. Using elements to completely other domains are very well possible, for example in the area of physically challenged people.

